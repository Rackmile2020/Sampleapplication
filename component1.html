<div class="search-container">
  <input 
    type="text" 
    [(ngModel)]="searchTerm" 
    (keyup)="searchService.updateSearchTerm(searchTerm)"
    placeholder="Search..."
    #searchInput>
  
  <button (click)="searchService.navigateMatch('up')" [disabled]="totalMatches === 0">↑</button>
  <button (click)="searchService.navigateMatch('down')" [disabled]="totalMatches === 0">↓</button>
  <button (click)="searchService.clearSearch(); searchInput.focus()">×</button>
  
  <span class="match-counter" *ngIf="searchTerm && totalMatches > 0">
    {{ activeMatchIndex + 1 }}/{{ totalMatches }}
  </span>
</div>

<div class="accordion">
  <div class="accordion-item" *ngFor="let item of accordionData; let i = index">
    <div class="accordion-header" 
         (click)="toggleItem(i)"
         [class.has-matches]="hasMatches(item.title) && searchTerm"
         [innerHTML]="item.title | highlight:searchTerm:isItemActive(i)"
         [appRegisterMatch]="{component: componentName, itemIndex: i}"
         [hasMatches]="hasMatches(item.title)">
    </div>
    <div class="accordion-content" 
         *ngIf="shouldShowContent(i)"
         [innerHTML]="item.content | highlight:searchTerm:isItemActive(i)"
         [appRegisterMatch]="{component: componentName, itemIndex: i}"
         [hasMatches]="hasMatches(item.content)">
    </div>
  </div>
</div>