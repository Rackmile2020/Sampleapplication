<div class="search-container">
  <input type="text" placeholder="Search..." (input)="onInput($event)" />
  <button (click)="navigate('up')">↑</button>
  <button (click)="navigate('down')">↓</button>
  <span>{{ countText }}</span>
  <button (click)="clearSearch()">✕</button>
</div>
this.searchService.query$.subscribe(query => {
      const regex = new RegExp(`(${query})`, 'gi');
      const elements = Array.from(document.querySelectorAll('.static-text')) as HTMLElement[];

      const matches: HTMLElement[] = [];

      elements.forEach(el => {
        const original = el.textContent || '';
        if (query && original.match(regex)) {
          el.innerHTML = original.replace(regex, '<mark class="highlight">$1</mark>');
        } else {
          el.innerHTML = original; // Reset if no match
        }

        // Collect all highlights inside this element
        const innerMatches = Array.from(el.querySelectorAll('.highlight')) as HTMLElement[];
        matches.push(...innerMatches);
      });

      this.searchService.registerMatches(matches);
    });
  }
.current-highlight {
  background-color: orange !important; /* overrides highlight */
  color: white;
  font-weight: bold;
  scroll-margin-top: 60px; /* optional: centers match when scrolled */
  border-radius: 4px;
  padding: 2px 4px;
}
