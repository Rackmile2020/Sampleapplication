private targetId = 'someId';
private skipId = 'myId';
private hasScrolled = false;

ngOnInit() {
  // Wait for data from another component
  this.dataService.data$
    .pipe(
      filter(data => !!data), // only proceed when data exists
      take(1)                 // only once
    )
    .subscribe(() => {
      // Run outside Angular to avoid CD interference
      this.zone.runOutsideAngular(() => {
        // Listen to manual scroll
        window.addEventListener('scroll', this.onManualScroll.bind(this), { passive: true });

        // Optionally, wait for Angular to stabilize first
        this.zone.onStable
          .pipe(take(1))
          .subscribe(() => {
            // Ready to handle manual scroll; nothing automatic happens yet
          });
      });
    });
}

private onManualScroll() {
  if (this.hasScrolled) return; // prevent multiple scrolls

  const el = document.getElementById(this.targetId);

  if (el && this.targetId !== this.skipId) {
    el.scrollIntoView({
      behavior: 'smooth',
      block: 'nearest',
      inline: 'nearest'
    });
    this.hasScrolled = true; // mark that scroll happened
  }
}

ngOnDestroy() {
  window.removeEventListener('scroll', this.onManualScroll.bind(this));
}
