@Injectable({ providedIn: 'root' })
export class CssReadyService {
  waitForBootstrap(): Promise<void> {
    return new Promise(resolve => {
      const existing = document.getElementById('bootstrap-css');
      if (existing && (existing as HTMLLinkElement).sheet) {
        resolve();
        return;
      }

      // Fallback: listen for load
      const link = document.getElementById('bootstrap-css') as HTMLLinkElement;
      if (link) {
        link.addEventListener('load', () => resolve(), { once: true });
      } else {
        console.warn('Bootstrap not found, resolving anyway.');
        resolve();
      }
    });
  }
}
constructor(private cssReady: CssReadyService) {}

async ngOnInit() {
  await this.cssReady.waitForBootstrap();
  this.isReady = true;
}
