LoadSearch() {
  this.searchService.query$.subscribe((query) => {
    this.sanitizedHtml = [];
    this.highlightedHeadings = [];

    const headingRegex = query ? new RegExp(`(${query})`, "gi") : null;
    const contentRegex = query ? new RegExp(`>([^<]*)(${query})([^<]*)<`, "gi") : null;

    this.whatsCoveredData?.benefits?.forEach((item, index) => {
      let match = false;

      /** ðŸ”¹ Headings */
      let heading = this.toTitleCaseIfAllCaps(item?.heading) || "";
      if (headingRegex && headingRegex.test(heading)) {
        heading = heading.replace(
          headingRegex,
          `<mark class="highlight">$1</mark>`
        );
        match = true;
      }
      this.highlightedHeadings[index] = heading;

      /** ðŸ”¹ Content */
      let content = item.data || "";
      if (contentRegex && contentRegex.test(content)) {
        content = content.replace(
          contentRegex,
          (m, before, term, after) =>
            `>${before}<mark class="highlight">${term}</mark>${after}<`
        );
        match = true;
      }
      // Always sanitize so Angular will render it
      this.sanitizedHtml[index] =
        this.sanitizer.bypassSecurityTrustHtml(content);

      /** ðŸ”¹ Expand if matched */
      item.expanded = match;
    });
  });
}
