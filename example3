 `promise new Promise(resolve => {
    let url = '';

    if (typeof window !== 'undefined' && window.location.href.includes('localhost')) {
      // Local dev URL
      url = 'http://localhost:4201/child/remoteEntry.js';
    } else {
      // Production URL (can include /base etc.)
      const base = window.location.pathname.includes('base') ? '/base' : '';
      url = window.location.origin + base + '/child/remoteEntry.js';
    }

    const script = document.createElement('script');
    script.src = url;
    script.type = 'text/javascript';
    script.async = true;

    script.onload = () => {
      console.log('Child remote loaded from', url);
      resolve(window.child); // window.child must match child library name
    };

    script.onerror = () => console.error('Failed to load child remote', url);

    document.head.appendChild(script);
  })`
