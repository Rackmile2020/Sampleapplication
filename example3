@HostListener('window:scroll', [])
onWindowScroll() {
  this.updateSticky();
}

onSearch() {
  this.searchService.setSearchTerm(this.searchText);
  const matchCount = this.searchService.getCount();

  // call same sticky logic when search matches found
  this.updateSticky(matchCount > 0);
}

clear() {
  this.searchText = '';
  this.searchService.clear();
  this.updateSticky(false); // reset sticky
}

// central sticky logic
updateSticky(forceSticky: boolean = false) {
  const header = document.getElementById('search-box');
  const searchTitle = document.getElementById('search-title');
  if (!header || !searchTitle) return;

  const sticky = searchTitle.offsetTop;

  // window.scrollY is number of pixels scrolled
  if (window.scrollY > sticky || forceSticky) {
    header.classList.add('search-box-sticky');
  } else {
    header.classList.remove('search-box-sticky');
  }
}
